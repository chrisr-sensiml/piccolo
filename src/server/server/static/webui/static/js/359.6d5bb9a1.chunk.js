/*
Copyright 2017-2024 SensiML Corporation

This file is part of SensiML™ Piccolo AI™.

SensiML Piccolo AI is free software: you can redistribute it and/or
modify it under the terms of the GNU Affero General Public License
as published by the Free Software Foundation, either version 3 of
the License, or (at your option) any later version.

SensiML Piccolo AI is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public
License along with SensiML Piccolo AI. If not, see <https://www.gnu.org/licenses/>.
*/

"use strict";(self.webpackChunksensiml_web=self.webpackChunksensiml_web||[]).push([[359],{1577:(e,t,l)=>{l.d(t,{A:()=>m});l(65043);var a=l(68903),o=l(85865),r=l(96446),i=l(69120),n=l(7478),s=l(98424),d=l(6011),c=l(34294),u=l(70579);const m=e=>{let{title:t,subtitle:l,onClickBack:m,actionsBtns:p,turncateLenght:h=0}=e;const v=(0,n.A)((e=>({panelWrapper:{padding:"0.75rem 1rem"},textWrapper:{display:"flex",alignItems:"center"},actionWrapper:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:e.spacing(.5),marginLeft:"auto"},stepperBackButton:{marginRight:e.spacing(2)},titleRoot:{fontSize:e.spacing(2.5)}})))();return(0,u.jsx)(d.W,{children:(0,u.jsxs)(a.Ay,{container:!0,className:v.panelWrapper,children:[(0,u.jsxs)(a.Ay,{item:!0,className:v.textWrapper,children:[m?(0,u.jsx)(c.tA,{className:v.stepperBackButton,onClick:m,color:"primary",size:"small",children:(0,u.jsx)(i.A,{})}):null,(0,u.jsx)(o.A,{variant:"h2",classes:{root:v.titleRoot},children:t&&(0,s.Ud)(t,h)}),(0,u.jsx)(r.A,{alignItems:"center",ml:2,children:l})]}),(0,u.jsx)(a.Ay,{item:!0,className:v.actionWrapper,children:p})]})})}},83746:(e,t,l)=>{l.d(t,{A:()=>$});var a=l(97508),o=l(38916),r=l(19490),i=l(28704),n=l(20697),s=l(65043),d=l(53536),c=l.n(d),u=l(7426),m=l(91688),p=l(95540),h=l(63471),v=l(77739),x=l(17392),f=l(1995),A=l(12220),g=l(81637),b=l(5259),k=l(75882),w=l(52437),M=l(6011),j=l(34294),E=l(95004),y=l(41104),S=l(97111),D=l(83462),C=l(26600),N=l(35316),L=l(98533),T=l(67784),P=l(29347),O=l(11906),_=l(26480),I=l(85502),R=l(70579);const z=e=>{let{isOpen:t,parrentError:l,modelName:a,modelList:o,selectedModel:r,selectedPipeline:i,onClose:n,onSave:d}=e;const{t:m}=(0,u.B)("models"),[p,h]=(0,s.useState)(),[v,x]=(0,s.useState)();(0,s.useEffect)((()=>{h(a)}),[a]),(0,s.useEffect)((()=>{x(l)}),[l]);return(0,R.jsxs)(D.A,{disableEscapeKeyDown:!0,open:t,onClose:n,id:"renameKnowledgePack","aria-labelledby":"form-dialog-title",children:[(0,R.jsx)(C.A,{id:"form-dialog-title",children:m("dialog-rename-models-title")}),(0,R.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{if(!p)return void x(m("dialog-rename-models-error-requaried"));if(c().isArray(o)&&o.find((e=>e.name.toUpperCase()===p.toUpperCase()&&e.sandbox_uuid===i)))return void x(m("dialog-rename-models-error-exist",{newModelName:p}));const e=o.find((e=>e.uuid===r)),t=new RegExp("^".concat(e.name,"_"),"g"),l=[{uuid:r,newName:p}];c().isEmpty(null===e||void 0===e?void 0:e.knowledgepack_description)||c().keys(e.knowledgepack_description).forEach((a=>{if("Parent"!==a){const o="".concat(p,"_").concat(a.replace(t,""));if(o.length>40)return void x(m("dialog-rename-models-error-limit",{newModelName:p}));l.push({uuid:e.knowledgepack_description[a].uuid,newName:o})}})),d(l)})()},children:[(0,R.jsxs)(N.A,{children:[(0,R.jsx)(L.A,{id:"form-dialog-content",children:m("dialog-rename-models-subtitle")}),(0,R.jsx)(T.A,{error:Boolean(v),helperText:v,autoFocus:!0,margin:"dense",id:"newKnowledgepackName",label:"Name",required:!0,defaultValue:a,onChange:e=>{e.preventDefault();const{value:t}=e.target;h(t)},fullWidth:!0})]}),(0,R.jsxs)(P.A,{id:"renameKnowledgepackActions",children:[(0,R.jsx)(O.A,{onClick:n,startIcon:(0,R.jsx)(I.A,{}),color:"primary",variant:"outlined",children:m("dialog-rename-models-cancel-btn")}),(0,R.jsx)(O.A,{type:"submit",startIcon:(0,R.jsx)(_.A,{}),color:"primary",variant:"outlined",children:m("dialog-rename-models-confirm-btn")})]})]})]})};var B=l(1967),H=l(5011),W=l(7478);const K=()=>(0,W.A)((e=>({root:{flexGrow:1},errorDiv:{marginTop:-22,minHeight:50},errorMessage:{color:e.palette.error.main},addNewButton:{marginRight:20,marginTop:20},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}})))(),U=e=>{let{tableTitle:t,knowledgepacks:l,selectedProject:a,deleteModel:o,loadKnowledgepacks:r,renameModel:i,openRouterRedirect:n,openTitle:d}=e;const{t:D}=(0,u.B)("models"),C=B.c.find((e=>e.title===B.hW.TestModel)),N=B.c.find((e=>e.title===B.hW.DownloadModel)),L=B.c.find((e=>e.title===B.hW.ExploreModel)),T=(0,m.useHistory)(),P=K(),[O,_]=(0,s.useState)([]),[I,W]=(0,s.useState)(null),[U,F]=(0,s.useState)(null),[$,V]=(0,s.useState)(null),[X,G]=(0,s.useState)(null),[q,Z]=(0,s.useState)(null),[J,Q]=(0,s.useState)([]),[Y,ee]=(0,s.useState)(!1),[te,le]=(0,s.useState)(!1),[ae,oe]=(0,s.useState)(!1),[re,ie]=(0,s.useState)(!1),[ne,se]=(0,s.useState)(""),[de,ce]=(0,s.useState)("success"),[ue,me]=(0,s.useState)(!1),pe=(0,s.useMemo)((()=>c().isEmpty(J)?D("model-table.dialog-delete-text",{name:X}):D("model-table.dialog-delete-multi-text",{count:null===J||void 0===J?void 0:J.length})),[X,J]),he=(0,s.useMemo)((()=>c().isEmpty(J)),[J]),ve=(0,s.useMemo)((()=>c().union(J,[q]).filter((e=>e))),[J,q]);(0,s.useEffect)((()=>{l.data=y.A.sortObjects(l.data||[{}],"created_at",!1,"dsc"),_(l)}),[l]);const xe=(e,t)=>{se(t),ce(e),ie(!0)},fe=(e,t,l)=>{T.push((0,m.generatePath)(e,{projectUUID:a,pipelineUUID:t,modelUUID:l}))},Ae=(e,t)=>{"clickaway"!==t&&ie(!1)},ge=(e,t)=>{Z(e),G(t),le(!0)},be=()=>{le(!1)},ke=(e,t)=>{let l=null;return e&&!e.isFetching&&e.data&&0!==!e.data.length?(l={},e.data.forEach((e=>l[e[t]]=e[t])),l):l},we=[{title:"Name",field:"name",primary:!0,sortable:!0,type:w.$.Text,filterable:!0,render:(e,t)=>{const l=n||S.bw.MAIN.MODEL_EXPLORE.path,a=d||"Explore model";return(0,R.jsx)(H.H,{color:"primary",tooltipTitle:"".concat(a,": ").concat(e),onClick:()=>fe(l,t.sandbox_uuid,t.uuid),children:e})}},{title:"Classifier",field:"classifier_name",sortable:!0,type:w.$.Text,filterable:!0,lookup:ke(O,"classifier_name")},{title:"Accuracy",field:"accuracy",sortable:!0,type:w.$.Numeric,filterable:!0,render:e=>!e||Number.isNaN(e)||""===e?e:"".concat(Number(e).toFixed(2)," %")},{title:"Model Size (Bytes)",field:"model_size",sortable:!0,type:w.$.Numeric,filterable:!0},{title:"Feature Count",field:"features_count",sortable:!0,type:w.$.Numeric,filterable:!0},{title:"Pipeline",field:"sandbox_name",sortable:!0,type:w.$.Text,filterable:!0,lookup:ke(O,"sandbox_name")},{title:"Created Date",field:"created_at",render:e=>y.A.convertToLocalDateTime(e),sortable:!0,type:w.$.DateTime,filterable:!0},{title:"UUID",field:"uuid",sortable:!0,type:w.$.Text,filterable:!0},{title:"Explore",field:"uuid",render:(e,t)=>(0,R.jsx)(v.A,{title:"Explore Model",children:(0,R.jsx)(x.A,{variant:"contained",color:"primary",size:"small",onClick:()=>fe(S.bw.MAIN.MODEL_EXPLORE.path,t.sandbox_uuid,e),children:L.iconfn()})})},{title:"Test",field:"uuid",render:(e,t)=>(0,R.jsx)(v.A,{title:"Test Model",children:(0,R.jsx)(x.A,{variant:"contained",color:"primary",size:"small",onClick:()=>fe(S.bw.MAIN.MODEL_TEST.path,t.sandbox_uuid,e),children:C.iconfn()})})},{title:"Download",field:"uuid",render:(e,t)=>(0,R.jsx)(v.A,{title:"Download Knowledge Pack",children:(0,R.jsx)(x.A,{variant:"contained",color:"primary",size:"small",onClick:()=>fe(S.bw.MAIN.MODEL_DOWNLOAD.path,t.sandbox_uuid,e),children:N.iconfn()})})},{title:"Rename",field:"uuid",render:(e,t)=>(0,R.jsx)(v.A,{title:"Rename Knowledgepack",children:(0,R.jsx)(x.A,{variant:"contained",color:"primary",size:"small",onClick:l=>{return a=e,o=t.name,r=t.sandbox_uuid,F(r),W(a),V(o),void oe(!0);var a,o,r},children:(0,R.jsx)(p.A,{})})})},{title:D("model-table.title-delete"),field:"uuid",render:(e,t)=>(0,R.jsx)(v.A,{title:D("model-table.tooltip-delete"),children:(0,R.jsx)(x.A,{variant:"contained",color:"primary",size:"small",disabled:!he,onClick:l=>ge(e,null===t||void 0===t?void 0:t.name),children:(0,R.jsx)(h.A,{})})})}],Me={rowsPerPage:25,rowsPerPageOptions:[10,25,50,100,"All"],showPagination:!0,applyFilters:!0,noContentText:"No Knowledge Packs",excludePrimaryFromDetails:!0,isDarkHeader:!0,selectionField:"uuid",isShowSelection:!0,onSelectInTable:e=>{Q(e)}};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(M.f,{title:t||D("model-table.title"),onRefresh:()=>{r(a)},ActionComponent:(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(j.U,{icon:(0,R.jsx)(h.A,{}),variant:"outlined",color:"primary",disabled:he,onClick:()=>ge(),text:D("Delete")})})}),(0,R.jsx)(b.A,{tableId:"knowledgePackTable",tableColumns:we,tableData:O,tableOptions:Me}),(0,R.jsx)(z,{modelName:$,isOpen:ae,onClose:()=>{oe(!1)},modelList:(null===O||void 0===O?void 0:O.data)||[],selectedModel:I,selectedPipeline:U,onSave:async e=>{me(!0),oe(!1);try{const t=await i(a,U,I,e);if("error"===t.status)return xe("warning",t.details),me(!1),void r(a)}catch(t){return xe("error",t.message),void me(!1)}r(a),xe("success","Successfuly renamed the Knowledgepack."),me(!1)}}),(0,R.jsx)(E.Z,{isOpen:te,title:D("model-table.dialog-delete-title"),text:pe,isLoading:Y,onConfirm:()=>(async()=>{const e=[];ee(!0);for(const l of ve)try{await o(l),e.push(l)}catch(t){xe("error",t.message)}e.includes(q)&&Z(""),c().isEmpty(J)||Q(J.filter((t=>!e.includes(t)))),null!==e&&void 0!==e&&e.length&&xe("success",D("model-table.msg-success-delete")),ee(!1),be(),r(a),G(null)})(),onCancel:()=>be(),cancelText:D("dialog-confirm-delete.cancel"),confirmText:D("dialog-confirm-delete.delete")}),(0,R.jsx)(f.A,{anchorOrigin:{vertical:"top",horizontal:"right"},open:re,autoHideDuration:2e3,onClose:Ae,children:(0,R.jsx)(k.A,{onClose:Ae,variant:de,message:ne})}),(0,R.jsx)(A.A,{className:P.backdrop,open:ue,children:(0,R.jsx)(g.A,{size:100})})]})},F={setActiveView:n.U7,setSelectedPipeline:i.E5,setSelectedModel:o.xH,deleteModel:o.De,loadKnowledgepacks:r.R,loadModels:o.Zl,renameModel:o.oB},$=(0,a.Ng)((e=>{var t,l;return{knowledgepacks:e.knowledgepacks,selectedProject:null===(t=e.projects)||void 0===t||null===(l=t.selectedProject)||void 0===l?void 0:l.uuid}}),F)(U)},5011:(e,t,l)=>{l.d(t,{H:()=>s});l(65043);var a=l(77739),o=l(88446),r=l(7478);const i=()=>(0,r.A)((e=>({...e.common,baseLink:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"none",cursor:"pointer",color:e.palette.primary.dark}}})))();var n=l(70579);const s=e=>{let{children:t,tooltipTitle:l,...r}=e;const s=i();return(0,n.jsx)(a.A,{title:l,children:(0,n.jsx)(o.A,{...r,className:s.baseLink,children:t})})}},90359:(e,t,l)=>{l.r(t),l.d(t,{default:()=>w});var a=l(97508),o=l(20697),r=l(38916),i=l(19490),n=l(65043),s=l(91688),d=l(7426),c=l(96446),u=l(97111),m=l(83746),p=l(92653),h=l(1577),v=l(70579);const x=e=>{let{title:t}=e;return(0,v.jsx)(h.A,{title:t})},f=e=>{let{title:t}=e;return(0,v.jsx)("div",{children:(0,v.jsx)(c.A,{mb:2,children:(0,v.jsx)(h.A,{title:t})})})},A=[{title:"model-select.open-table-explore",path:u.bw.MAIN.MODEL_EXPLORE.path},{title:"model-select.open-table-test",path:u.bw.MAIN.MODEL_TEST.path},{title:"model-select.open-table-download",path:u.bw.MAIN.MODEL_DOWNLOAD.path}],g={[u.bw.MAIN.MODEL_SELECT.MODES.SELECT_EXPLORE]:"Explore Model",[u.bw.MAIN.MODEL_SELECT.MODES.SELECT_TEST]:"Test Model",[u.bw.MAIN.MODEL_SELECT.MODES.SELECT_DOWNLOAD]:"Download Model"},b=e=>{let{selectedProject:t,modelData:l,loadKnowledgepacks:a,clearModel:o}=e;const r=(0,s.useHistory)(),{t:i}=(0,d.B)("models"),{selectionMode:h}=(0,s.useParams)(),{state:b}=(0,s.useLocation)(),[k,w]=(0,n.useState)(!1),M=(0,n.useMemo)((()=>{let e={};return A.forEach((t=>{let{title:l,path:a}=t;(0,s.matchPath)(null===b||void 0===b?void 0:b.parentPath,{path:a,sctrict:!1})&&(e={title:i(l),path:a})})),e}),[]);(0,n.useEffect)((()=>{o()}),[]),(0,n.useEffect)((()=>{null!==b&&void 0!==b&&b.message&&(w(!0),a(t))}),[b]),(0,n.useEffect)((()=>{h||r.push((0,s.generatePath)(u.bw.MAIN.MODEL_SELECT.path,{selectionMode:u.bw.MAIN.MODEL_SELECT.MODES.SELECT}))}),[r]);return(0,v.jsxs)("div",{children:[(0,v.jsx)(c.A,{mb:2,children:h===u.bw.MAIN.MODEL_SELECT.MODES.CHANGE?(0,v.jsx)(f,{onClose:()=>{r.push(null===b||void 0===b?void 0:b.parentPath)},title:void 0!==(null===b||void 0===b?void 0:b.parentPath)?g[null===b||void 0===b?void 0:b.parentPath.split("/")[1]]:"Select model: ".concat(null===l||void 0===l?void 0:l.name),backTitle:null===M||void 0===M?void 0:M.title}):(0,v.jsx)(x,{title:g[h]})}),(0,v.jsx)(p.O,{isOpen:k&&(null===b||void 0===b?void 0:b.message),onClose:()=>{w(!1)},message:null===b||void 0===b?void 0:b.message,variant:(null===b||void 0===b?void 0:b.massageVariant)||"info"}),(0,v.jsx)(m.A,{tableTitle:i("model-select.table-header"),openRouterRedirect:null===M||void 0===M?void 0:M.path,onLoadKnowledgepacks:()=>{a(t)},openTitle:null===M||void 0===M?void 0:M.title})]})},k={setIsMainScreenLoading:o.AG,loadKnowledgepacks:i.R,clearModel:r.lB},w=(0,a.Ng)((e=>{var t,l,a,o,r;return{selectedProject:null===(t=e.projects)||void 0===t||null===(l=t.selectedProject)||void 0===l?void 0:l.uuid,selectedModel:null===(a=e.models)||void 0===a?void 0:a.selectedModel,modelData:(null===(o=e.models)||void 0===o||null===(r=o.modelData)||void 0===r?void 0:r.data)||{}}}),k)(b)},26480:(e,t,l)=>{var a=l(24994);t.A=void 0;var o=a(l(40039)),r=l(70579);t.A=(0,o.default)((0,r.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddBox")},69120:(e,t,l)=>{var a=l(24994);t.A=void 0;var o=a(l(40039)),r=l(70579);t.A=(0,o.default)((0,r.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},95540:(e,t,l)=>{var a=l(24994);t.A=void 0;var o=a(l(40039)),r=l(70579);t.A=(0,o.default)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},81637:(e,t,l)=>{l.d(t,{A:()=>T});var a=l(57528),o=l(98587),r=l(58168),i=l(65043),n=l(69292),s=l(68606),d=l(59626),c=l(6803),u=l(72876),m=l(34535),p=l(57056),h=l(32400);function v(e){return(0,h.Ay)("MuiCircularProgress",e)}(0,p.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var x,f,A,g,b=l(70579);const k=["className","color","disableShrink","size","style","thickness","value","variant"];let w,M,j,E;const y=44,S=(0,d.i7)(w||(w=x||(x=(0,a.A)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),D=(0,d.i7)(M||(M=f||(f=(0,a.A)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),C=(0,m.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:l}=e;return[t.root,t[l.variant],t["color".concat((0,c.A)(l.color))]]}})((e=>{let{ownerState:t,theme:l}=e;return(0,r.A)({display:"inline-block"},"determinate"===t.variant&&{transition:l.transitions.create("transform")},"inherit"!==t.color&&{color:(l.vars||l).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,d.AH)(j||(j=A||(A=(0,a.A)(["\n      animation: "," 1.4s linear infinite;\n    "]))),S)})),N=(0,m.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),L=(0,m.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:l}=e;return[t.circle,t["circle".concat((0,c.A)(l.variant))],l.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:l}=e;return(0,r.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:l.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,d.AH)(E||(E=g||(g=(0,a.A)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),D)})),T=i.forwardRef((function(e,t){const l=(0,u.A)({props:e,name:"MuiCircularProgress"}),{className:a,color:i="primary",disableShrink:d=!1,size:m=40,style:p,thickness:h=3.6,value:x=0,variant:f="indeterminate"}=l,A=(0,o.A)(l,k),g=(0,r.A)({},l,{color:i,disableShrink:d,size:m,thickness:h,value:x,variant:f}),w=(e=>{const{classes:t,variant:l,color:a,disableShrink:o}=e,r={root:["root",l,"color".concat((0,c.A)(a))],svg:["svg"],circle:["circle","circle".concat((0,c.A)(l)),o&&"circleDisableShrink"]};return(0,s.A)(r,v,t)})(g),M={},j={},E={};if("determinate"===f){const e=2*Math.PI*((y-h)/2);M.strokeDasharray=e.toFixed(3),E["aria-valuenow"]=Math.round(x),M.strokeDashoffset="".concat(((100-x)/100*e).toFixed(3),"px"),j.transform="rotate(-90deg)"}return(0,b.jsx)(C,(0,r.A)({className:(0,n.A)(w.root,a),style:(0,r.A)({width:m,height:m},j,p),ownerState:g,ref:t,role:"progressbar"},E,A,{children:(0,b.jsx)(N,{className:w.svg,ownerState:g,viewBox:"".concat(22," ").concat(22," ").concat(y," ").concat(y),children:(0,b.jsx)(L,{className:w.circle,style:M,ownerState:g,cx:y,cy:y,r:(y-h)/2,fill:"none",strokeWidth:h})})}))}))}}]);
//# sourceMappingURL=359.6d5bb9a1.chunk.js.map