/*
Copyright 2017-2024 SensiML Corporation

This file is part of SensiML™ Piccolo AI™.

SensiML Piccolo AI is free software: you can redistribute it and/or
modify it under the terms of the GNU Affero General Public License
as published by the Free Software Foundation, either version 3 of
the License, or (at your option) any later version.

SensiML Piccolo AI is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public
License along with SensiML Piccolo AI. If not, see <https://www.gnu.org/licenses/>.
*/

"use strict";(self.webpackChunksensiml_web=self.webpackChunksensiml_web||[]).push([[293],{60137:(e,t,a)=>{a.d(t,{A:()=>x});var l=a(97508),s=a(65043),i=a(77739),n=a(85865),r=a(5259),o=a(7426),c=a(7478);const d=()=>(0,c.A)((e=>({grid:{},box:{minWidth:245,paddingRight:20},headerDataLabel:{backgroundColor:e.palette.primary.main,color:e.palette.common.white},centered:{display:"flex",alignItems:"center",flexDirection:"column",marginRight:"2em",marginBottom:"2em"}})))();var u=a(70579);const m={TOTAL:"Predicted",SUPPORT:"Support",UNC:"UNC",UNK:"UNK",POSTPRED:"Pos_Predic(%)",SENSPERC:"Sensitivity(%)",GroundTruth_Total:"GroundTruth_Total",GroundTruth_Title:"Ground Truth"},p=e=>{let{model:t,showTitle:a,modelName:l,fileName:c}=e;const p=d(),[x,h]=(0,s.useState)({data:null,isFetching:t.isFetching}),[y,f]=(0,s.useState)(),{t:A}=(0,o.B)("models"),j=(e,t,a)=>a.tableMainCell,g=(e,t,a)=>{const l=t[e.field],s=t.support;let i=null;if(0!==l&&0!==s){const n=10*Math.round(l/s*100/10);i=t.label===e.title?((e,t)=>{switch(e){case 0:default:return t.tableRowGreen;case 10:return t.tableRowGreen10;case 20:return t.tableRowGreen20;case 30:return t.tableRowGreen30;case 40:return t.tableRowGreen40;case 50:return t.tableRowGreen50;case 60:return t.tableRowGreen60;case 70:return t.tableRowGreen70;case 80:return t.tableRowGreen80;case 90:return t.tableRowGreen90;case 100:return t.tableRowGreen100}})(n,a):((e,t)=>{switch(e){case 0:return t.tableRowRed;case 10:return t.tableRowRed10;case 20:return t.tableRowRed20;case 30:return t.tableRowRed30;case 40:return t.tableRowRed40;case 50:return t.tableRowRed50;case 60:return t.tableRowRed60;case 70:return t.tableRowRed70;case 80:return t.tableRowRed80;case 90:return t.tableRowRed90;case 100:return t.tableRowRed100;default:return t.tableRowGreen}})(n,a)}return t.label===m.POSTPRED&&(i=null),t.label!==m.TOTAL&&e.title!==m.SUPPORT&&e.title!==m.GroundTruth_Title||(i=a.tableDelimiteddBlue),"".concat(a.tableGenericCenteredCell," ").concat(i)},b=(e,t,a)=>"".concat(a.tableGenericCenteredCell," ").concat(t.label===m.TOTAL||e.title===m.SUPPORT||e.title===m.GroundTruth_Title?a.tableDelimiteddBlue:null),v=e=>e.title,N=e=>(0,u.jsx)(i.A,{title:A("confusion-matrix.support"),children:(0,u.jsxs)(n.A,{children:[" ",e.title," "]})}),w=e=>(0,u.jsx)(i.A,{title:A("confusion-matrix.ground-truth"),children:(0,u.jsxs)(n.A,{children:[" ",e.title," "]})}),_=e=>(0,u.jsx)(i.A,{title:A("confusion-matrix.sensitivity"),children:(0,u.jsxs)(n.A,{children:[" ",e.title," "]})}),E=e=>(0,u.jsx)(i.A,{title:A("confusion-matrix.unk"),children:(0,u.jsxs)(n.A,{children:[" ",e.title," "]})}),S=e=>e&&e===m.TOTAL?(0,u.jsx)(i.A,{title:A("confusion-matrix.predicted"),children:(0,u.jsxs)(n.A,{children:[" ",e," "]})}):e&&e===m.POSTPRED?(0,u.jsx)(i.A,{title:A("confusion-matrix.positive-predictivity"),children:(0,u.jsxs)(n.A,{children:[" ",e," "]})}):!e||isNaN(e)||""===e?e:Number(e).toFixed(2),C=(e,t)=>{const a=e.field,l=t.field;let s=0;return a>l?s=1:a<l&&(s=-1),s},D=(e,t)=>{const a=e.label,l=t.label;let s=0;return a>l?s=1:a<l&&(s=-1),s};(0,s.useEffect)((()=>{h({data:[],isFetching:t.isFetching});const e=[];let a=!1,l=[],s=0;if(t.data){const n=t.data;l.push({title:"",field:"label",primary:!0,renderLabel:v,render:S,handleCellStyles:j});let r=0;const o={label:m.TOTAL};let c=[];for(const t in n){const l={label:t};let d=0;for(const e in n[t])o[e]=o[e]?o[e]:0,0===r&&(c.push({title:e,field:e,primary:!0,renderLabel:v,handleCellStyles:g}),e===m.GroundTruth_Total&&(a=!0)),l[e]=(i=n[t][e],+"".concat(Math.round("".concat(i,"e+2")),"e-2")),e===m.UNC?o[e]-=l[e]?l[e]:0:o[e]+=l[e]?l[e]:0,e===m.UNK&&"unknown"===t.toLowerCase()&&(s+=n[t][e]?n[t][e]:0),e!==m.GroundTruth_Total&&(d+=n[t][e]?n[t][e]:0);l.support=d,l.sense_perc=0===d?"":Number(100*(l[t]+s)/d).toFixed(2),o.support=(o.support?o.support:0)+l.support,o.sense_perc="",r++,e.push(l)}e.sort(D),e.push(o),c=c.filter((e=>![m.UNC,m.UNK,m.GroundTruth_Total].includes(e.field))),c.sort(C),c.push({title:m.UNK,field:m.UNK,primary:!0,renderLabel:E,handleCellStyles:b}),l=l.concat(c);const d={label:m.POSTPRED};let u=0;for(const t in l){const a=l[t].field;if("label"!==a){const t=e.find((e=>e.label===a));t&&(u+=t[a],o[a]&&0!==o[a]?d[a]=Number(t[a]/o[a]*100).toFixed(2):d[a]=null)}}d.support="Acc(%)",d.sense_perc=0===o.support?null:Number(100*(u+s)/o.support).toFixed(2),e.push(d),a&&l.push({title:m.GroundTruth_Title,field:m.GroundTruth_Total,primary:!0,renderLabel:w,handleCellStyles:b}),l.push({title:m.SUPPORT,field:"support",primary:!0,renderLabel:N,handleCellStyles:b},{title:m.SENSPERC,field:"sense_perc",primary:!0,renderLabel:_,render:S,handleCellStyles:b})}var i;h({data:e,isFetching:!1}),f(l)}),[t]);return(0,u.jsxs)("div",{className:p.centered,children:[a?(0,u.jsx)(n.A,{variant:"h2",className:p.title,children:"".concat("").concat(l?"".concat(l):"").concat(c?" - ".concat(c):"")}):null,(0,u.jsx)(r.A,{tableColumns:y,tableData:x,tableOptions:{rowsPerPage:100,showPagination:!1,noContentText:"No Data for Confusion Matrix",excludePrimaryFromDetails:!0,headersCentered:!0,isDarkHeader:!0},tableXS:null})]})},x=(0,l.Ng)(null,null)(p)},1577:(e,t,a)=>{a.d(t,{A:()=>m});a(65043);var l=a(68903),s=a(85865),i=a(96446),n=a(69120),r=a(7478),o=a(98424),c=a(6011),d=a(34294),u=a(70579);const m=e=>{let{title:t,subtitle:a,onClickBack:m,actionsBtns:p,turncateLenght:x=0}=e;const h=(0,r.A)((e=>({panelWrapper:{padding:"0.75rem 1rem"},textWrapper:{display:"flex",alignItems:"center"},actionWrapper:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:e.spacing(.5),marginLeft:"auto"},stepperBackButton:{marginRight:e.spacing(2)},titleRoot:{fontSize:e.spacing(2.5)}})))();return(0,u.jsx)(c.W,{children:(0,u.jsxs)(l.Ay,{container:!0,className:h.panelWrapper,children:[(0,u.jsxs)(l.Ay,{item:!0,className:h.textWrapper,children:[m?(0,u.jsx)(d.tA,{className:h.stepperBackButton,onClick:m,color:"primary",size:"small",children:(0,u.jsx)(n.A,{})}):null,(0,u.jsx)(s.A,{variant:"h2",classes:{root:h.titleRoot},children:t&&(0,o.Ud)(t,x)}),(0,u.jsx)(i.A,{alignItems:"center",ml:2,children:a})]}),(0,u.jsx)(l.Ay,{item:!0,className:h.actionWrapper,children:p})]})})}},5766:(e,t,a)=>{a.d(t,{A:()=>A});var l=a(65043),s=a(53536),i=a.n(s),n=a(7478),r=a(72584),o=a(53193),c=a(79190),d=a(72221),u=a(74050),m=a(96446),p=a(43845),x=a(32143),h=a(48734),y=a(70579);const f=(0,n.A)((e=>({chips:{display:"flex",flexWrap:"wrap",gap:e.spacing(.25)},chip:{margin:e.spacing(.5)}}))),A=e=>{let{defaultValue:t,name:a,label:s,id:n,labelId:A,size:j,options:g,onChange:b,disabledOptions:v=[],fullWidth:N=!0,isUpdateWithDefault:w=!0,isObserveDefaultValue:_=!1,isFormHidden:E,defaultStep:S,maxElements:C,minElements:D,...T}=e;const I=f(),[F,R]=(0,l.useState)([]);(0,l.useEffect)((()=>{if(i().isEmpty(t)){const e=g.filter((e=>e.isDefault)).map((e=>e.value));R([...e]),w&&b(a,[...e])}else R([...t]),w&&b(a,t)}),[g]),(0,l.useEffect)((()=>{_&&R([...t])}),[t]);return(0,y.jsxs)(o.A,{fullWidth:N,size:j,children:[(0,y.jsx)(c.A,{id:A,children:s}),void 0!==F?(0,y.jsx)(d.A,{...T,id:n,labelId:A,value:F||[],onChange:e=>{var t,l;R(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value),b(a,null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.value)},name:a,input:(0,y.jsx)(u.A,{id:"".concat(n,"_input"),label:s}),renderValue:e=>(0,y.jsx)("div",{className:I.chips,children:e.map((e=>(0,y.jsx)(m.A,{sx:{display:"flex",flexWrap:"wrap"},children:(0,y.jsx)(p.A,{label:e})},e)))}),multiple:!0,children:(null===g||void 0===g?void 0:g.length)&&g.map(((e,t)=>(0,y.jsxs)(x.A,{value:e.value,disabled:v.includes(e.value),children:[(0,y.jsx)(h.A,{primary:e.name}),F.indexOf(e.value)>-1?(0,y.jsx)(r.A,{color:"primary"}):" "]},"".concat(n,"_").concat(t))))}):null]})}},14381:(e,t,a)=>{a.d(t,{A:()=>n});a(65043);var l=a(7478),s=a(96446),i=a(70579);const n=e=>{let{name:t,color:a,className:n=""}=e;const r=(0,l.A)((e=>({wrapper:{display:"flex",alignItems:"center",width:"100%"},colorBox:{marginRight:e.spacing(1),height:"1rem",width:"1rem"}})))();return(0,i.jsxs)(s.A,{className:r.wrapper,children:[(0,i.jsx)(s.A,{className:r.colorBox,style:{background:a}}),(0,i.jsx)("span",{className:"".concat(r.name," ").concat(n),children:t})]})}},80923:(e,t,a)=>{a.d(t,{A:()=>h});var l=a(65043),s=a(1577),i=a(91688),n=a(69120),r=a(17022),o=a(36631),c=a(7426),d=a(97111),u=a(33206),m=a(34815),p=a(34294),x=a(70579);const h=e=>{let{modelData:t,isChangePlatform:a,onChangePlatform:h,downloading:y,handleDownloadRequest:f}=e;const{t:A}=(0,c.B)("models"),j=(0,i.useHistory)(),{pathname:g}=(0,i.useLocation)(),b=()=>{const e=(0,i.generatePath)(d.bw.MAIN.MODEL_SELECT.path,{selectionMode:d.bw.MAIN.MODEL_SELECT.MODES.CHANGE});j.push(e,{parentPath:g})},[v,N]=(0,l.useState)(!1);return(0,u.G4)((e=>{N(e.innerWidth<m.xp.WIDTH_FOR_SHORT_TEXT)})),(0,x.jsx)(s.A,{title:v?null===t||void 0===t?void 0:t.name:A("model-select.control-panel-change",{modelName:null===t||void 0===t?void 0:t.name}),onClickBack:v?null:b,turncateLenght:v?m.xp.TRUNCATE_NAME_OVER_SHORT_TEXT:m.xp.TRUNCATE_NAME_OVER,actionsBtns:(0,x.jsxs)(x.Fragment,{children:[a?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(p.bw,{variant:"outlined",color:"primary",disabled:!1,onClick:()=>{h()},isShort:v,tooltip:A("model-panel.change-platform-btn"),text:A("model-panel.change-platform-btn"),icon:(0,x.jsx)(r.A,{})}),(0,x.jsx)(p.bw,{variant:"outlined",color:"primary",disabled:y,onClick:()=>f(),isShort:v,tooltip:A("model-panel.download-model-btn"),text:A("model-panel.download-model-btn"),icon:(0,x.jsx)(o.A,{})})]}):null,(0,x.jsx)(p.bw,{variant:"outlined",color:"primary",onClick:()=>b(),isShort:v,tooltip:A("model-panel.change-btn"),text:A("model-panel.change-btn"),icon:(0,x.jsx)(n.A,{})})]})})}},29765:(e,t,a)=>{a.d(t,{A:()=>r});a(65043);var l=a(85865),s=a(63336),i=a(96446),n=a(70579);const r=e=>{const{children:t,value:a,index:r,p:o=2,mt:c=2,...d}=e;return(0,n.jsx)(l.A,{component:"div",role:"tabpanel",hidden:a!==r,id:"full-width-tabpanel-".concat(r),"aria-labelledby":"full-width-tab-".concat(r),...d,children:a===r&&(0,n.jsx)(s.A,{elevation:0,children:(0,n.jsx)(i.A,{p:o,mt:c,children:t})})})}},93531:(e,t,a)=>{a.d(t,{SE:()=>s,jQ:()=>i});const l={autosize:!0,autocolorscale:!0,displayModeBar:!0,displaylogo:!1,responsive:!0,modeBarButtonsToRemove:["pan2d","select2d","lasso2d","autoScale2d","toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]},s={...l},i={...l,responsive:!1}},55365:(e,t,a)=>{a.d(t,{al:()=>c,bO:()=>d});var l=a(65043),s=a(90537),i=a(76174),n=a(93531),r=a(70579);var o=a(26240);const c=e=>{let{data:t,title:a,height:c,width:d,$xaxis:u,$yaxis:m,boxmode:p}=e;const x=(0,o.A)(),[h,y]=(0,l.useState)(0),[f,A]=(0,l.useState)("1");return(0,l.useEffect)((()=>{y(h+1)}),[t]),(0,r.jsx)("div",{style:{width:"100%",position:"relative"},children:(0,r.jsx)(s.A,{data:t,revision:h,style:{width:"100%",height:"100%",opacity:f},layout:{type:"box",boxmode:p||"group",...i.kX,...c&&{height:c},...d&&{width:d},plot_bgcolor:x.plotBG,xaxis:{...i.kX.xaxis,...u},yaxis:{...i.kX.yaxis,...m},title:a},config:n.SE})})},d=e=>{let{data:t,title:a,height:o,width:c,onClick:d,$xaxis:u,$yaxis:m,$xaxis2:p,$yaxis2:x,layout:h}=e;const[y,f]=(0,l.useState)(0);return(0,l.useEffect)((()=>{f(y+1)}),[t,h,u,m]),(0,r.jsx)(s.A,{data:t,config:n.jQ,useResizeHandler:!0,style:{width:"100%",height:"100%"},onClick:e=>{f(y+1),d(e)},onHover:()=>{const e=document.getElementsByClassName("nsewdrag")[0];null!==e&&void 0!==e&&e.style&&(e.style.cursor="pointer")},layout:{...i.n,...o&&{height:o},...c&&{width:c},xaxis:{...i.n.xaxis,...u},yaxis:{...i.n.yaxis,...m},xaxis2:{...i.n.xaxis2,...p},yaxis2:{...i.n.yaxis2,...x},title:{text:a,font:{size:16,weight:"bold",fontFamily:["Open Sans","verdana","arial","sans-serif"]},xref:"paper"},...h},revision:y},"key-".concat(y))}},76174:(e,t,a)=>{a.d(t,{kX:()=>s,n:()=>i,x2:()=>n});const l={autosize:!0,margin:{l:70,r:50,b:70,t:50,pad:10},legend:{borderwidth:0,orientation:"h"},xaxis:{autorange:!0,rangemode:"tozero",showline:!1,color:"#455a64",zerolinecolor:"#eee",zerolinewidth:3,standoff:20},yaxis:{autosize:!0,rangemode:"tozero",autorange:!0,showline:!1,color:"#455a64",zerolinecolor:"#eee",zerolinewidth:3}},s={...l,margin:{l:80,r:80,b:100,t:70,pad:10},colorway:["#26c0c7","#5151d3","#e68619","#ffd215","#E65F8E","#A86BD1","#3AA5D1","#3BB58F","#3A63AD"],yaxis:{autosize:!0,anchor:"free",overlaying:"y",side:"right",position:1},legend:{...l.legend},legend2:{...l.legend}},i={...l,hovermode:"closest",mode:"markers",type:"scatter",x:[],y:[],autosize:!0,bargap:.3,barmode:"stack",xaxis:{...l.xaxis,domain:[0,.84],autorange:!1,showgrid:!0,title:{standoff:20},range:[0,255]},yaxis:{...l.xaxis,domain:[0,.84],autorange:!1,showgrid:!0,title:{standoff:20},range:[0,255]},legend:{x:1,xanchor:"right",yanchor:"top",y:1},xaxis2:{...l.xaxis,domain:[.85,1],autosize:!1,showgrid:!0,zeroline:!0},yaxis2:{...l.xaxis,domain:[.85,1],autosize:!1,showgrid:!0,zeroline:!0}},n={...l,margin:{l:50,r:150,b:200,t:50,pad:10},hovermode:"closest",mode:"markers",type:"scatter",autosize:!0,bargap:0,barmode:"stack",yaxis:{autosize:!0,anchor:"free",overlaying:"y",side:"right",position:1}}},57293:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ot});var l=a(97508),s=a(38916),i=a(65043),n=a(96446),r=a(63336),o=a(20991),c=a(24056),d=a(85893),u=a(69986),m=a(68903),p=a(7478);const x=()=>(0,p.A)((e=>({root:{flexGrow:1},formControl:{margin:e.spacing(1),minWidth:393,"@media (max-width: 2600px)":{minWidth:800,maxWidth:1210},"@media (max-width: 2000px)":{minWidth:400,maxWidth:1210},"@media (max-width: 1450px)":{minWidth:390,maxWidth:650},"@media (max-width: 1250px)":{minWidth:400,maxWidth:600},"@media (max-width: 1050px)":{minWidth:400,maxWidth:600},"@media (max-width: 770px)":{minWidth:600,maxWidth:700}},flowWrapper:{display:"flex",justifyContent:"flex-end"},errorDiv:{marginTop:-22,minHeight:50},errorMessage:{color:e.palette.error.main},addNewButton:{marginRight:20,marginTop:20},pipelineDetails:{position:"sticky",top:"100px"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},nodeColor1:{backgroundColor:"#e3f2fd"},nodeColor2:{backgroundColor:"#e8eaf6"},nodeColor3:{backgroundColor:"#fff3e0"},nodeColor4:{backgroundColor:"#f9fbe7"},nodeColor5:{backgroundColor:"#cfd8dc"},nodeColor6:{backgroundColor:"#c8e6c9"},nodeColor7:{backgroundColor:"#e0f2f1"},nodeColor8:{backgroundColor:"#f1f8e9"}})))();var h=a(86067),y=a(36230),f=a(90445),A=a(71451),j=a(56202),g=a(32125),b=a(34109),v=a(46742),N=a(77739),w=a(85865),_=a(41104),E=a(12110),S=a(79958),C=a(81045),D=a(26494),T=a(67470),I=a(29864);const F=(0,p.A)((e=>({root:{mainWidth:345},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},card:{position:"sticky",top:"100px"},avatar:{backgroundColor:"".concat(T.A[500]," !important")},title:{},pos:{marginBottom:12},description:{whiteSpace:"pre-wrap"},descriptionExpander:{backgroundColor:"".concat(I.A[200]," !important")}})));var R=a(70579);function M(e){let{pipeline:t}=e;const a=F(),[s,n]=(0,i.useState)(null),[r,o]=(0,i.useState)(null),c=(0,l.d4)((e=>e.queries.queryList.data)),d=(0,l.d4)((e=>e.sessions.data));return(0,i.useEffect)((()=>{if(!t||"query"!==t.type||!c)return;const e=c.find((e=>e.name===t.name));n(e),o(d.find((t=>t.id===e.segmenter_id)))}),[t,c]),(0,R.jsxs)(E.A,{className:"".concat(a.root," ").concat(a.card),children:[(0,R.jsx)(S.A,{avatar:(0,R.jsx)(C.A,{"aria-label":t.type,className:a.avatar,children:Z(t.type)}),titleTypographyProps:{variant:"h4"},title:Q(t.type)}),(0,R.jsx)(D.A,{children:(0,R.jsxs)(m.Ay,{container:!0,spacing:1,children:[(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:a.title,children:"Name:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:a.pos,children:t.name})}),(0,R.jsx)(m.Ay,{item:!0,xs:1}),(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:a.title,children:"Type:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:a.pos,children:t.type})}),(0,R.jsx)(m.Ay,{item:!0,xs:1}),s?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:a.title,children:"Session:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:a.pos,children:(r||{name:""}).name})}),(0,R.jsx)(m.Ay,{item:!0,xs:1}),(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:a.title,children:"Label:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:a.pos,children:s.label_column})}),(0,R.jsx)(m.Ay,{item:!0,xs:1}),(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:a.title,children:"Metadata:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:a.pos,children:s.metadata_columns&&s.metadata_columns.length>0?s.metadata_columns.join(", "):""})}),(0,R.jsx)(m.Ay,{item:!0,xs:1}),(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:a.title,children:"Source:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:a.pos,children:s.columns&&s.columns.length>0?s.columns.join(", "):""})}),(0,R.jsx)(m.Ay,{item:!0,xs:1}),_.A.isNullOrEmpty(s.metadata_filter)?null:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:a.title,children:"Query Filter:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:a.pos,children:s.metadata_filter})}),(0,R.jsx)(m.Ay,{item:!0,xs:1})]})]}):null]})})]})}var P=a(21337),U=a(43024),L=a(27600),O=a(17392),k=a(30279);function z(e){let{transform:t}=e;const a=F(),[l,s]=i.useState(!1);return t&&t.description?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(L.A,{disableSpacing:!0,children:(0,R.jsx)(N.A,{title:"Description",children:(0,R.jsx)(O.A,{className:(0,U.A)(a.expand,{[a.expandOpen]:l}),onClick:()=>{s(!l)},"aria-expanded":l,"aria-label":"show more",size:"large",children:(0,R.jsx)(C.A,{"aria-label":"description",className:a.descriptionExpander,children:(0,R.jsx)(P.A,{})})})})}),(0,R.jsx)(k.A,{in:l,timeout:"auto",unmountOnExit:!0,children:(0,R.jsxs)(D.A,{children:[(0,R.jsx)(w.A,{paragraph:!0,children:"Description:"}),(0,R.jsx)(w.A,{component:"span",children:(0,R.jsx)("pre",{className:a.description,children:t.description})})]})})]}):null}function V(e){let{pipeline:t,transforms:a}=e;const l=F(),[s,n]=(0,i.useState)([]);return(0,i.useEffect)((()=>{n(a.find((e=>e.name===t.name))||{})}),[t,a]),(0,R.jsxs)(E.A,{className:"".concat(l.root,", ").concat(l.card),children:[(0,R.jsx)(S.A,{avatar:(0,R.jsx)(C.A,{"aria-label":t.type,className:l.avatar,children:Z(t.type)}),titleTypographyProps:{variant:"h4"},title:Q(t.type)}),(0,R.jsx)(D.A,{children:(0,R.jsxs)(m.Ay,{container:!0,spacing:1,children:[(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:l.title,children:"Name:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:l.pos,children:t.name})}),(0,R.jsx)(m.Ay,{item:!0,xs:1}),(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:l.title,children:"Type:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:l.pos,children:t.type})}),(0,R.jsx)(m.Ay,{item:!0,xs:1}),s?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:l.title,children:"SubType:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:l.pos,children:s.subtype})}),(0,R.jsx)(m.Ay,{item:!0,xs:1})]}):null,J(s,t.inputs,l)]})}),(0,R.jsx)(z,{transform:s})]})}function W(e){let{pipeline:t,transforms:a}=e;const l=F(),[s,n]=(0,i.useState)(null);return(0,i.useEffect)((()=>{t&&a&&n(a.find((e=>e.name===t.name)))}),[t,a]),(0,R.jsxs)(E.A,{className:"".concat(l.root,", ").concat(l.card),children:[(0,R.jsx)(S.A,{avatar:(0,R.jsx)(C.A,{"aria-label":t.type,className:l.avatar,children:Z(t.type)}),titleTypographyProps:{variant:"h4"},title:Q(t.type)}),(0,R.jsx)(D.A,{children:(0,R.jsxs)(m.Ay,{container:!0,spacing:1,children:[(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:l.title,children:"Name:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:l.pos,children:t.name})}),(0,R.jsx)(m.Ay,{item:!0,xs:1}),(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:l.title,children:"Type:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:l.pos,children:t.type})}),(0,R.jsx)(m.Ay,{item:!0,xs:1}),J(s,t.inputs,l)]})}),(0,R.jsx)(z,{transform:s})]})}var X=a(53193),G=a(72221),B=a(32143);function H(e){let{pipeline:t,transforms:a}=e;const l=F(),[s,r]=(0,i.useState)([]),[o,c]=(0,i.useState)(t?t.inputs:[]),[d,u]=(0,i.useState)(null),[p,x]=(0,i.useState)(null),[h,y]=(0,i.useState)(0);return(0,i.useEffect)((()=>{if(t&&t.set&&t.set.length>0){u(t.set.map((e=>e.function_name)));const e=t.set[0];x(e),y(0),r(a.find((t=>t.name===e.function_name))||{})}}),[t,a]),(0,R.jsxs)(E.A,{className:"".concat(l.root,", ").concat(l.card),children:[(0,R.jsx)(S.A,{avatar:(0,R.jsx)(C.A,{"aria-label":t.type,className:l.avatar,children:Z(t.type)}),titleTypographyProps:{variant:"h4"},title:Q(t.type)}),(0,R.jsx)(D.A,{children:(0,R.jsxs)(m.Ay,{container:!0,spacing:1,children:[(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:l.title,children:"Name:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:l.pos,children:t.name})}),(0,R.jsx)(m.Ay,{item:!0,xs:1}),(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:l.title,children:"Type:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:l.pos,children:s.type?s.type:t.type})}),(0,R.jsx)(m.Ay,{item:!0,xs:1}),(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:l.title,children:"Number Of Functions:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:l.pos,children:t.set.length})}),(0,R.jsx)(m.Ay,{item:!0,xs:1}),d?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:l.title,children:"Function:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(X.A,{fullWidth:!0,children:(0,R.jsx)(G.A,{name:"functions",value:h,onChange:e=>{const l=t.set[e.target.value];y(e.target.value),x(l),c(Object.assign({},l?l.inputs:[],t.inputs)),r(a.find((e=>e.name===l.function_name))||{})},children:d&&d.map(((e,t)=>(0,R.jsx)(B.A,{value:t,children:e},"".concat(e,"-").concat(t))))})})}),(0,R.jsx)(m.Ay,{item:!0,xs:1})]}):null,p&&p.inputs?(0,R.jsx)(m.Ay,{item:!0,xs:12,children:(0,R.jsxs)(n.A,{boxShadow:3,m:1,p:1,children:[(0,R.jsxs)(m.Ay,{container:!0,spacing:1,children:[(0,R.jsx)(m.Ay,{item:!0,xs:12,children:(0,R.jsx)(w.A,{variant:"h6",children:"Function Inputs"})}),J(s,o,l)]}),(0,R.jsx)(z,{transform:s})]})}):null]})})]})}function Y(e){let{pipeline:t,transforms:a}=e;const l=F(),[s,n]=(0,i.useState)([]);return(0,i.useEffect)((()=>{n(a.find((e=>e.name===t.name))||{})}),[t,a]),(0,R.jsxs)(E.A,{className:"".concat(l.root,", ").concat(l.card),children:[(0,R.jsx)(S.A,{avatar:(0,R.jsx)(C.A,{"aria-label":t.type,className:l.avatar,children:Z(t.type)}),titleTypographyProps:{variant:"h4"},title:Q(t.type)}),(0,R.jsx)(D.A,{children:(0,R.jsxs)(m.Ay,{container:!0,spacing:1,children:[(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:l.title,children:"Name:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:l.pos,children:t.name})}),(0,R.jsx)(m.Ay,{item:!0,xs:1}),(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:l.title,children:"Type:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:l.pos,children:t.type})}),(0,R.jsx)(m.Ay,{item:!0,xs:1}),(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:l.title,children:"Classifier:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:l.pos,children:t.classifiers[0].name})}),(0,R.jsx)(m.Ay,{item:!0,xs:1}),(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:l.title,children:"Optimizer:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:l.pos,children:t.optimizers[0].name})}),(0,R.jsx)(m.Ay,{item:!0,xs:1}),(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:l.title,children:"Validation:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:l.pos,children:t.validation_methods[0].name})}),(0,R.jsx)(m.Ay,{item:!0,xs:1})]})}),(0,R.jsx)(z,{transform:s})]})}function $(e){let{pipeline:t,transforms:a}=e;const l=F(),[s,n]=(0,i.useState)(null);return(0,i.useEffect)((()=>{t&&a&&n(a.find((e=>e.name===t.name)))}),[t,a]),(0,R.jsxs)(E.A,{className:"".concat(l.root,", ").concat(l.card),children:[(0,R.jsx)(S.A,{avatar:(0,R.jsx)(C.A,{"aria-label":t.type,className:l.avatar,children:Z(t.type)}),titleTypographyProps:{variant:"h4"},title:Q(t.type)}),(0,R.jsx)(D.A,{children:(0,R.jsxs)(m.Ay,{container:!0,spacing:1,children:[(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:l.title,children:"Name:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:l.pos,children:t.name})}),(0,R.jsx)(m.Ay,{item:!0,xs:1}),(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsx)(w.A,{className:l.title,children:"Type:"})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:l.pos,children:t.type})}),(0,R.jsx)(m.Ay,{item:!0,xs:1}),J(s,t.inputs,l)]})}),(0,R.jsx)(z,{transform:s})]})}const q={query:{label:"Input",styleName:"nodeColor1",Icon:()=>(0,R.jsx)(f.A,{}),getDetailView:(e,t,a,l)=>(0,R.jsx)(M,{pipeline:e,transforms:t,columns:a,cls:l})},file:{label:"Input",styleName:"nodeColor1",Icon:()=>(0,R.jsx)(f.A,{}),getDetailView:(e,t,a,l)=>(0,R.jsx)(M,{pipeline:e,transforms:t,columns:a,cls:l})},transform:{label:"Transform",styleName:"nodeColor2",Icon:()=>(0,R.jsx)(y.A,{}),getDetailView:(e,t,a,l)=>(0,R.jsx)(V,{pipeline:e,transforms:t,columns:a,cls:l})},generatorset:{label:"Feature Generators",styleName:"nodeColor3",Icon:()=>(0,R.jsx)(A.A,{}),getDetailView:(e,t,a,l)=>(0,R.jsx)(H,{pipeline:e,transforms:t,columns:a,cls:l})},selectorset:{label:"Feature Selectors",styleName:"nodeColor4",Icon:()=>(0,R.jsx)(j.A,{}),getDetailView:(e,t,a,l)=>(0,R.jsx)(H,{pipeline:e,transforms:t,columns:a,cls:l})},sampler:{label:"Sampler",styleName:"nodeColor5",Icon:()=>(0,R.jsx)(h.A,{}),getDetailView:(e,t,a,l)=>(0,R.jsx)(W,{pipeline:e,transforms:t,columns:a,cls:l})},tvo:{label:"Test Validate Optimize",styleName:"nodeColor6",Icon:()=>(0,R.jsx)(g.A,{}),getDetailView:(e,t,a,l)=>(0,R.jsx)(Y,{pipeline:e,transforms:t,columns:a,cls:l})},segmenter:{label:"Segmenter",styleName:"nodeColor7",Icon:()=>(0,R.jsx)(v.A,{}),getDetailView:(e,t,a,l)=>(0,R.jsx)($,{pipeline:e,transforms:t,columns:a,cls:l})},default:{label:"",styleName:"nodeColor8",Icon:()=>(0,R.jsx)(b.A,{}),getDetailView:(e,t,a,l)=>(0,R.jsx)(M,{pipeline:e,transforms:t,columns:a,cls:l})}},K=(e,t,a,l)=>(q[e.type.toLowerCase()]||q.default).getDetailView(e,t,a,l),Q=e=>(q[e.toLowerCase()]||{label:e}).label,Z=e=>{const t=q[e.toLowerCase()]||q.default;return(0,R.jsx)(N.A,{title:""===t.label?e:t.label,children:t.Icon()})},J=(e,t,a)=>e&&e.input_contract||t?Object.entries(((e,t)=>{if(!e)return null;const a={};return e.forEach((e=>{a[e.name]=null!==t[e.name]?t[e.name]:e.default||""})),a})((e||{}).input_contract||[],t||{})).map((e=>{let[t,l]=e;return ee(t,l,a)})):null,ee=(e,t,a)=>{if("input_data"===e)return null;"number"===typeof t&&(t=t.toString());const l=Array.isArray(t)?t.join(", "):t;return _.A.isNullOrEmpty(l)?null:(0,R.jsxs)(i.Fragment,{children:[(0,R.jsx)(m.Ay,{item:!0,xs:3,children:(0,R.jsxs)(w.A,{className:a.title,children:[_.A.capitalizeWords(e.replace("_"," ")),":"]})}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:(0,R.jsx)(w.A,{className:a.pos,children:l})}),(0,R.jsx)(m.Ay,{item:!0,xs:1})]},e)},te=(0,i.memo)((e=>{let{data:t}=e;const a=x(),l=(s=t.pipeline.type,a[(q[s.toLowerCase()]||q.default).styleName]);var s;return(0,R.jsx)(n.A,{boxShadow:t.shadow,p:2,borderRadius:"3%",className:l,width:t.width,children:(0,R.jsxs)(m.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:1,children:[(0,R.jsx)(m.Ay,{item:!0,xs:2,children:Z(t.pipeline.type)}),(0,R.jsx)(m.Ay,{item:!0,xs:10,children:(0,R.jsxs)(m.Ay,{container:!0,spacing:0,children:[(0,R.jsx)(m.Ay,{item:!0,xs:4,children:"Name:"}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:t.pipeline.name}),(0,R.jsx)(m.Ay,{item:!0,xs:4,children:"Type:"}),(0,R.jsx)(m.Ay,{item:!0,xs:8,children:t.pipeline.type})]})})]})})})),ae={fontSize:"14px",fontFamily:"Roboto, Helvetica, Arial, sans-serif"},le={selectorNode:te},se=e=>{let{pipelineSteps:t,transforms:a,sources:l}=e;const s=x(),[r,o]=(0,i.useState)([{name:""}]),[c,p]=(0,i.useState)(!1),[h,y]=(0,i.useState)([]),[f,A]=(0,i.useState)(null),[j,g]=(0,i.useState)({width:"100%",maxWidth:"600px",display:"flex",justifyContent:"flex-right",overflowy:"true",height:"10px"});(0,i.useEffect)((()=>{o(a)}),[a]),(0,i.useEffect)((()=>{if(!t)return;const e=[];let a=0,l=100+10*Math.max(...t.map((e=>e.name.length)));l>500&&(l=500),t.map(((t,l)=>{e.push({id:"".concat(l+1),data:{pipeline:t,width:350,shadow:2},position:{x:50,y:a},type:"selectorNode",style:ae}),l>0&&e.push({id:"e".concat(l,"-").concat(l+1),source:"".concat(l),target:"".concat(l+1),arrowHeadType:"arrowclosed"}),a+=120})),p(!1),y(e),g((e=>({...e,height:"".concat(160*t.length,"px")})))}),[t]);return(0,R.jsx)(u.A,{children:(0,R.jsx)(n.A,{p:4,className:s.box,children:(0,R.jsxs)(m.Ay,{container:!0,spacing:1,children:[(0,R.jsx)(m.Ay,{item:!0,xs:6,className:s.flowWrapper,children:h?(0,R.jsx)(d.Ay,{style:j,onElementClick:(e,t)=>{A(t.data.pipeline),p(!0),y((e=>(e.map((e=>{"selectorNode"===e.type&&(e.data.pipeline.name===t.data.pipeline.name?e.data.shadow=20:e.data.shadow=2)})),e)))},elementsSelectable:!1,nodesDraggable:!1,zoomOnScroll:!1,zoomOnDoubleClick:!1,paneMoveable:!1,elements:h,onLoad:e=>e,nodeTypes:le,selectNodesOnDrag:!0}):null}),(0,R.jsx)(m.Ay,{item:!0,xs:6,children:c&&f?K(f,r,l,s):null})]})})})};const ie=(0,l.Ng)((function(e,t){return{pipelineSteps:t.pipelineSteps,transforms:e.transforms.data,sources:e.sources.data}}),{})(se);var ne=a(5259),re=a(52437);const oe=e=>{let{model:t,showTitle:a}=e;const l={data:[],isFetching:t.isFetching},[s,n]=(0,i.useState)(l),r=e=>(0,R.jsx)(w.A,{variant:"button",children:e.title.toUpperCase()}),o=[{title:"Feature",field:"Feature",primary:!0,sortable:!0,type:re.$.Text,filterable:!0,renderLabel:r},{title:"Category",field:"Category",sortable:!0,type:re.$.Text,filterable:!0,renderLabel:r},{title:"Generator",field:"Generator",sortable:!0,type:re.$.Text,filterable:!0,renderLabel:r},{title:"Sensors",field:"Sensors",sortable:!0,type:re.$.Text,filterable:!0,renderLabel:r}];(0,i.useEffect)((()=>{t&&t.data&&t.data.feature_summary?n({data:t.data.feature_summary,isFetching:t.isFetching}):n(l)}),[t]);const c={rowsPerPage:8,showPagination:!0,noContentText:"No Feature Summary",excludePrimaryFromDetails:!0,applyFilters:!0,summary:t,isDarkHeader:!0};return(0,R.jsx)(ne.A,{tableId:"featureSummaryTable",tableColumns:o,tableData:s,tableTitle:a?"Feature Summary":null,tableOptions:c})};var ce=a(90537);const de=e=>{let{model:t}=e;const a=(0,i.useMemo)((()=>{var e,a,l,s;const i=null===t||void 0===t||null===(e=t.data)||void 0===e||null===(a=e.model_results)||void 0===a?void 0:a.training_metrics,n=null===i||void 0===i||null===(l=i.accuracy)||void 0===l?void 0:l.length,r=Array.from({length:n},((e,t)=>t)),o=null===i||void 0===i||null===(s=i.qat_accuracy)||void 0===s?void 0:s.length,c=Array.from({length:o},((e,t)=>t+n));let d=[],u=[];return null!==i&&void 0!==i&&i.accuracy&&(d=d.concat([{x:r,y:i.accuracy,name:"training accuracy",line:{dash:"solid",color:"#1f77b4"}},{x:r,y:i.val_accuracy,name:"validation accuracy",line:{dash:"solid",color:"#ff7f0e"}}]),u=u.concat([{x:r,y:i.loss,name:"training loss"},{x:r,y:i.val_loss,name:"validation loss"}])),null!==i&&void 0!==i&&i.qat_accuracy&&(d=d.concat([{x:c,y:i.qat_accuracy,name:"QAT training accuracy",mode:"lines+markers",line:{dash:"dot",color:"#1f77b4"},marker:{symbol:"circle-open",size:8}},{x:c,y:i.qat_val_accuracy,name:"QAT validation accuracy",mode:"lines+markers",line:{dash:"dot",color:"#ff7f0e"},marker:{symbol:"circle-open",size:8}}]),u=u.concat([{x:c,y:i.qat_loss,name:"QAT training loss",mode:"lines+markers",line:{dash:"dot",color:"#1f77b4"},marker:{symbol:"circle-open",size:8}},{x:c,y:i.qat_val_loss,name:"QAT validation loss",mode:"lines+markers",line:{dash:"dot",color:"#ff7f0e"},marker:{symbol:"circle-open",size:8}}])),{metrics:i,accuracy:d,loss:u}}),[t]);return(0,R.jsx)("div",{children:a.metrics.accuracy?(0,R.jsxs)("div",{style:{width:"100%",position:"relative"},children:[(0,R.jsx)(ce.A,{data:a.accuracy,style:{width:"100%",height:"100%"},layout:{title:"Accuracy",xaxis:{title:{text:"Epochs"}}}}),(0,R.jsx)(ce.A,{data:a.loss,style:{width:"100%",height:"100%"},layout:{title:"Loss",xaxis:{title:{text:"Epochs"}}}})]},"neuarl_network_plots"):null},"neural_network_summary")};var ue=a(53536),me=a.n(ue);const pe=e=>{let{model:t}=e;const[a,l]=(0,i.useState)({data:null,isFetching:t.isFetching});(0,i.useEffect)((()=>{var e;if(!me().isEmpty(null===(e=t.data)||void 0===e?void 0:e.neuron_array)){var a;const e=null===(a=t.data)||void 0===a?void 0:a.neuron_array.map((e=>({...e,category_name:t.data.class_map[e.Category],Vector:e.Vector.toString()})));l({data:e,isFetching:!1})}}),[t]);const s=[{title:"Category",field:"category_name",sortable:!0,type:re.$.Text,filterable:!0},{title:"Category ID",field:"Category",primary:!0,sortable:!0,type:re.$.Numeric,filterable:!0},{title:"AIF",field:"AIF",primary:!0,sortable:!0,type:re.$.Numeric,filterable:!0},{title:"Pattern",field:"Vector",sortable:!0,type:re.$.Text,filterable:!0}];return(0,R.jsx)(ne.A,{tableId:"modelParamterTable",tableColumns:s,tableData:a,tableTitle:!0,tableOptions:{rowsPerPage:20,showPagination:!0,applyFilters:!0,noContentText:"No Model Summary",excludePrimaryFromDetails:!0,isDarkHeader:!0}})},xe=e=>{var t,a,l,s;let{model:r,showTitle:o}=e;const c=e=>(0,R.jsx)(w.A,{variant:"button",children:e.title.toUpperCase()}),d={title:"classifier",field:"classifier",primary:!0,sortable:!0,type:re.$.Text,filterable:!0,renderLabel:c},[u,m]=(0,i.useState)({data:null,isFetching:r.isFetching}),[p,x]=(0,i.useState)({data:null,isFetching:r.isFetching}),[h,y]=(0,i.useState)(null);(0,i.useEffect)((()=>{r&&r.data&&(e=>{const t={},a=[];if(0!==Object.entries(e).length&&e.constructor===Object){var l,s,i,n,r,o;t.classifier=null===(l=e.device_configuration)||void 0===l?void 0:l.classifier,t.uuid=e.uuid;const a=(null===(s=e.pipeline_summary)||void 0===s?void 0:s.length)||0;var u;"PME"===(null===(i=e.device_configuration)||void 0===i?void 0:i.classifier)?(t.optimizer=e.pipeline_summary[a-1].optimizers[0].name,t.neurons=e.neuron_array.length,t.classification_mode=null!==e&&void 0!==e&&null!==(u=e.device_configuration)&&void 0!==u&&u.classification_mode?"KNN":"RBF",t.distance_mode=null!==e&&void 0!==e&&e.device_configuration.distance_mode?"LSUP":"L1"):"Decision Tree Ensemble"===(null===(n=e.device_configuration)||void 0===n?void 0:n.classifier)?(t.n_estimators=e.pipeline_summary[a-1].optimizers[0].inputs.n_estimators,t.max_depth=e.pipeline_summary[a-1].optimizers[0].inputs.max_depth):"Boosted Tree Ensemble"===(null===(r=e.device_configuration)||void 0===r?void 0:r.classifier)||null===(o=e.device_configuration)||void 0===o||o.classifier}if(a.splice(0,a.length),0!==Object.entries(t).length&&t.constructor===Object){a.push(d);for(const e in t)"classifier"!==e&&a.push({title:e,field:e,sortable:!0,type:re.$.Text,filterable:!0,renderLabel:c})}m({data:[t],isFetching:!1}),x({data:e,isFetching:!1}),y(a)})(r.data||{})}),[r]);return(0,R.jsxs)(n.A,{children:[(0,R.jsx)(ne.A,{tableId:"modelSummaryTable",tableColumns:h,tableData:u,tableTitle:o?"Model Summary":null,tableOptions:{rowsPerPage:20,showPagination:!0,applyFilters:!0,noContentText:"No Model Summary",excludePrimaryFromDetails:!0,isDarkHeader:!0}}),"PME"===(null===r||void 0===r||null===(t=r.data)||void 0===t||null===(a=t.device_configuration)||void 0===a?void 0:a.classifier)&&p?(0,R.jsx)(pe,{model:p}):null,"TensorFlow Lite for Microcontrollers"===(null===r||void 0===r||null===(l=r.data)||void 0===l||null===(s=l.device_configuration)||void 0===s?void 0:s.classifier)?(0,R.jsx)(de,{model:r}):null]})};var he=a(29765),ye=a(98992),fe=a(80923),Ae=a(7996),je=a(67500),ge=a(52178);var be=a(12826);const ve=e=>{var t,a;if(me().isEmpty(null===(t=e.segments)||void 0===t||null===(a=t.segments)||void 0===a?void 0:a.data))return[];const l=(0,be.jC)()(e);return e.segments.segments.data.map(((e,t)=>{const a=l[e.label_value];return{sequence:t+1,...e,...a}}))};var Ne=a(91688),we=a(88911),_e=a(79190),Ee=a(55365),Se=a(33206);const Ce={mode:"markers",name:"scatter",type:"scatter",x:[],y:[],marker:{size:12,line:{width:1,color:"#6c6d6c"},opacity:.8},autorange:!0,showlegend:!1},De={name:"histogram",type:"histogram",xaxis:"x2",yaxis:"y2",width:[.4],opacity:.8,showlegend:!1,autorange:!0,marker:{size:12,opacity:.8,line:{color:"#6c6d6c",width:.5,opacity:.5}}},Te={arrowhead:6,ax:0,ay:0,bgcolor:"rgba(255, 255, 255, 0.9)",font:{size:12},borderwidth:3,borderpad:5,text:"",opacity:.4},Ie={arrowhead:6,ax:0,ay:0,bgcolor:"rgba(255, 255, 255, 0.9)",font:{size:18},borderwidth:3,borderpad:5,text:"Loading Data ..."},Fe=700,Re=e=>{let{featureData:t,colorHashMap:a,labelColumn:l,featureX:s,featureY:r,featureZ:o,parentRef:c,selectedClasses:d,title:u,selectedSegmentIndex:m,isFetching:p,fetchingText:x,onSelectPoint:h,isAutoRangeXaxis:y=!1}=e;const[f,A]=(0,i.useState)({}),[j,g]=(0,i.useState)({width:Fe,height:Fe}),[b,v]=(0,i.useState)([-10,265]),[N,w]=(0,i.useState)([]);(0,Se.G4)((()=>{null!==c&&void 0!==c&&c.current&&.9*c.current.offsetWidth<Fe?g({width:.9*c.current.offsetWidth,height:.9*c.current.offsetWidth}):g({width:Fe,height:Fe})}));const _=(0,i.useMemo)((()=>me().isEmpty(t[l])?[]:t[l].reduce(((e,t,a)=>(d&&!d.includes(t)||(e[t]||(e[t]=[]),e[t].push(a)),e)),{})),[t,d]);(0,i.useEffect)((()=>{const e=[],l=[],i=[];me().entries(_).forEach((n=>{let[c,d]=n;const[u,m,p]=[s,r,o].map((e=>{if(t[e]){return t[e].filter(((e,t)=>d.includes(t)))}return[]}));y&&[u,m,p].forEach((e=>{me().isEmpty(e)||(l.push(me().max(e)),i.push(me().min(e)))})),e.push({...Ce,name:c,ids:d,x:u,y:m,z:p,hovertext:"Click to show related segment",marker:{...Ce.marker,color:a[c]},mode:"markers",type:"scatter2d"}),e.push({...De,xaxis:null,name:c,x:u,marker:{...De.marker,color:a[c]},showlegend:!0}),e.push({...De,yaxis:null,name:c,y:m,marker:{...De.marker,color:a[c]},showlegend:!1})})),y&&v([me().round(me().min(i),0),me().round(me().max(l),0)]),w(e)}),[_,s,r,o,a]);return(0,i.useEffect)((()=>{if(!me().isEmpty(t.segment_uuid)&&s&&r){const e={...Te,x:t[s][m],y:t[r][m],bordercolor:a[t[l][m]]};A((t=>({...t,annotations:[e]})))}}),[m]),(0,i.useEffect)((()=>{A((e=>({...e,annotations:[]})))}),[s,r]),(0,i.useEffect)((()=>{if(p){const e={...Ie,text:x||Ie.text};A((t=>({...t,annotations:[e]})))}else A((e=>({...e,annotations:[]})))}),[p]),(0,R.jsx)(n.A,{mt:2,style:j,margin:"auto",children:(0,R.jsx)(Ee.bO,{data:N,layout:f,title:u,onClick:e=>{const a=null===e||void 0===e?void 0:e.points[0];if(t.segment_uuid&&a.data.ids){h(a.data.ids[a.pointIndex]);const e={...Te,x:a.xaxis.d2l(a.x),y:a.yaxis.d2l(a.y),bordercolor:a.fullData.marker.color};A((t=>({...t,annotations:[e]})))}},$xaxis:{title:{text:s,standoff:20},range:b},$yaxis:{title:{text:r,standoff:15},range:b}})})};var Me=a(7426),Pe=a(14381),Ue=a(34815);const Le=e=>{let{featureData:t,labelColumn:a,labelValues:l,colorHashMap:s,selectedSegmentIndex:r,selectionField:o,isFetching:c=!1,onSelectSegmemts:d,onSelectSegmemtIndex:u}=e;const{t:m}=(0,Me.B)("components"),p=(0,i.useMemo)((()=>!me().isEmpty(null===t||void 0===t?void 0:t.segment_uuid)&&a?t.segment_uuid.map(((e,l)=>{const i=t[a]?t[a][l]:"";return{uuid:e,id:l+1,name:i,color:s[i]}})):[]),[t,a]),x=(0,i.useMemo)((()=>({data:p.map((e=>e)),isFetching:c})),[p]),h=[{title:m("label-table.header-id"),field:"id",sortable:!0,type:re.$.Numeric},{title:m("label-table.header-name"),field:"name",sortable:!0,type:re.$.Text,filterable:!0,formType:me().isEmpty(l)?Ue.XF.FORM_STRING_TYPE:Ue.XF.FORM_SELECT_TYPE,lookup:me().isEmpty(l)?[]:l.reduce(((e,t)=>(e[t]=t,e)),{}),render:(e,t)=>(0,R.jsx)(n.A,{p:1.75,children:(0,R.jsx)(Pe.A,{name:(null===t||void 0===t?void 0:t.name)||"",color:(null===t||void 0===t?void 0:t.color)||""})})},{title:"UUID",field:"uuid",sortable:!0,type:re.$.Text,filterable:!1}],y={rowsPerPage:10,rowsPerPageOptions:[10,25,50,100,"All"],excludePrimaryFromDetails:!0,showPagination:!0,applyFilters:!0,isDarkHeader:!0,selectionField:o,selectionFieldIsSortable:!1,onSelectInTable:e=>{d&&d(e)},isDisabledSelectAll:!0,isShowSelection:!0,selectedRowId:r+1,onRowSelection:(e,t)=>(e=>{u(e.id-1)})(t),noContentText:m("captures-table.empty-content")};return(0,R.jsx)(ne.A,{tableId:"lableTable",tableData:x,tableColumns:h,tableOptions:y})};var Oe=a(76174),ke=a(93531);const ze=e=>{let{data:t,title:a,height:l,hideX:s,$xaxis:n,$yaxis:r,layout:o}=e;const[c,d]=(0,i.useState)(0);return(0,i.useEffect)((()=>{d(c+1)}),[t,o]),(0,R.jsx)(ce.A,{data:t,config:ke.jQ,useResizeHandler:!0,style:{width:"100%",height:"100%"},onHover:()=>{document.getElementsByClassName("nsewdrag")[0].style.cursor="pointer"},layout:{...Oe.x2,...l&&{height:l},xaxis:{...Oe.x2.xaxis,...n,...s&&{visible:s}},yaxis:{...Oe.x2.yaxis,...r},...s&&{margin:{...Oe.x2.margin,b:0}},title:{text:a,font:{size:16,weight:"bold",fontFamily:["Open Sans","verdana","arial","sans-serif"]},xref:"paper"},...o},revision:c})},Ve=e=>{let{featureVectorData:t,modelData:a,selectedSegmentIDs:l,labelColumn:s}=e;const r=(0,i.useCallback)((()=>{const e=[],i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return 1===e?100:10*e+50};if(!me().isEmpty(null===a||void 0===a?void 0:a.feature_summary)&&!me().isEmpty(t)){const n=null===a||void 0===a?void 0:a.feature_summary.reduce(((e,t)=>{let{Feature:a}=t;const l=a.includes("gen_c")?a.substr(4,5):"",s=a.includes("gen_c")?a.substr(10):a;return me().isUndefined(e[l])&&(e[l]=[]),e[l].push(s),e}),{});l.forEach(((a,r)=>{const o=[],c=[];let d=[];const u=a-1;me().entries(n).forEach(((e,a)=>{let[l,s]=e;0===a&&(d=s.map((e=>e.replaceAll("gen","")))),o.push(l);const i=s.map((e=>{const a=l?"gen_".concat(l,"_").concat(e):e;return t[a][u]||0}));c.push(i)})),e.push({x:d,y:o,z:c,title:"".concat(t[s][u]," ID(").concat(a,")"),colorscale:[[0,"#2dc937"],[.3,"#99c140"],[.5,"#e7b416"],[.7,"#db7b2b"],[1,"#cc3232"]],height:i(o.length),ygap:.1,xgap:.1,type:"heatmap",showscale:!1,isLast:r===l.length-1})}))}return e}),[a,t,l]);return(0,R.jsx)(n.A,{width:"100%",children:r().map((e=>(0,R.jsx)(ze,{data:[e],title:e.title||"",height:e.isLast?e.height+200:e.height,hideX:!e.isLast},e.title)))})};var We=a(5766);const Xe=()=>(0,p.A)((()=>({featureItemPaper:{display:"block",gridColumn:"span 6",padding:"1rem",marginTop:"1rem","@media (max-width: 1100px)":{gridColumn:"span 12"}}})))(),Ge=e=>{let{modelData:t,selectLabelColorHashMap:a,selectLabelValuesByName:l,featureVectorData:s,featureFileUUID:o,labelValuesHashMap:c,loadFeatureVectorData:d,isFetchingFeatureVectorData:u}=e;const m=Xe(),{projectUUID:p}=(0,Ne.useParams)(),[x,h]=(0,i.useState)([]),[y,f]=(0,i.useState)([]),[A,j]=(0,i.useState)([]),[g,b]=(0,i.useState)(""),[v,N]=(0,i.useState)({}),[w,_]=(0,i.useState)([]),[E,S]=(0,i.useState)(-1),[C,D]=(0,i.useState)(""),[T,I]=(0,i.useState)(""),[F,M]=(0,i.useState)(""),P=(0,i.useRef)(null),U=(0,i.useCallback)((()=>me().isEmpty(t)?[]:t),[t]),L=(0,i.useCallback)((()=>me().isEmpty(s)?[]:s),[s]),O=e=>{S(e)};(0,i.useEffect)((()=>{if(!me().isEmpty(null===t||void 0===t?void 0:t.feature_summary)){var e,l;o!==t.feature_file_uuid&&d(p,t.feature_file_uuid);const s=null===t||void 0===t?void 0:t.feature_summary.map((e=>e.Feature));D(s[0]),I(s[1]),M(s[2]),b((null===t||void 0===t||null===(e=t.query_summary)||void 0===e?void 0:e.label_column)||"Label"),N(a((null===t||void 0===t||null===(l=t.query_summary)||void 0===l?void 0:l.label_column)||"Label")),j(s),h(me().values(t.class_map).map((e=>({name:e,value:e})))),f(me().values(t.class_map))}}),[t]);const k=(0,i.useMemo)((()=>{var e;return g?l((null===t||void 0===t||null===(e=t.query_summary)||void 0===e?void 0:e.label_column)||"Label"):[]}),[g,t]);return(0,R.jsxs)(n.A,{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridAutoRows:"max-content",gap:2,children:[(0,R.jsxs)(r.A,{className:m.featureItemPaper,elevation:0,ref:P,children:[(0,R.jsxs)(we.A,{direction:"column",p:1,children:[(0,R.jsx)(we.A,{mb:2,children:(0,R.jsx)(We.A,{id:"classMap",labelId:"classMapLabel",name:"classMap",label:"Classes",size:"small",isUpdateWithDefault:!1,isObserveDefaultValue:!0,defaultValue:y||[],options:x,onChange:(e,t)=>{f(t)},disabledOptions:["segment_uuid"]})}),(0,R.jsxs)(we.A,{direction:"row",spacing:1,children:[(0,R.jsxs)(X.A,{size:"small",fullWidth:!0,children:[(0,R.jsx)(_e.A,{id:"featureXLabel",children:"featureX"}),(0,R.jsx)(G.A,{labelId:"featureXLabel",id:"featureXSelect",label:"featureX",name:"featureX",value:C,onChange:e=>{let{target:t}=e;null!==t&&void 0!==t&&t.value&&D(t.value)},displayEmpty:!0,children:A.map((e=>(0,R.jsx)(B.A,{value:e,children:e},"featureX_".concat(e))))})]}),(0,R.jsxs)(X.A,{size:"small",fullWidth:!0,children:[(0,R.jsx)(_e.A,{id:"featureYLabel",children:"featureY"}),(0,R.jsx)(G.A,{labelId:"featureYLabel",id:"featureYSelect",label:"featureY",name:"featureY",value:T,onChange:e=>{let{target:t}=e;null!==t&&void 0!==t&&t.value&&I(t.value)},children:A.map((e=>(0,R.jsx)(B.A,{value:e,children:e},"featureY_".concat(e))))})]})]})]}),(0,R.jsx)(Re,{featureData:L(),featureNames:A,labelColumn:g,featureX:C,featureY:T,featureZ:F,parentRef:P,colorHashMap:v,selectedClasses:y,selectedSegmentIndex:E,title:"<b>Feature Vector Plot</b>",isFetching:u,onSelectPoint:O},"key-feature-vector-chart")]}),(0,R.jsx)(r.A,{className:m.featureItemPaper,elevation:0,children:(0,R.jsx)(Le,{featureData:s,labelColumn:g,labelValues:k,colorHashMap:v,selectedSegmentIndex:E,selectionField:"id",onSelectSegmemts:e=>{_(e)},onSelectSegmemtIndex:O})}),(0,R.jsx)(n.A,{gridColumn:"span 12",children:(0,R.jsx)(Ve,{featureVectorData:L(),modelData:U(),labelColumn:g,selectedSegmentIDs:w,labelHashMap:c})})]})},Be={loadFeatureVectorData:s.Cn,loadSegments:e=>async t=>{try{const{data:a}=await Ae.Ay.get("/project/".concat(e,"/label-relationship/"));t({type:ge.j,payload:a})}catch(a){je.A.logError("","".concat(_.A.getResponseErrorDetails(a)," \n--projectUUID:").concat(e),a,"loadFeatureVectorData"),(0,Ae.M3)(a,"Failed to loadSegments projectUUID: ".concat(e))}}},He=(0,l.Ng)((e=>{var t,a,l,s;return{modelData:null===(t=e.models.modelData)||void 0===t?void 0:t.data,featureVectorData:null===(a=e.models.featureVectors)||void 0===a?void 0:a.data,featureFileUUID:null===(l=e.models.featureVectors)||void 0===l?void 0:l.featureFileUUID,isFetchingFeatureVectorData:null===(s=e.models.featureVectors)||void 0===s?void 0:s.isFetching,segments:ve(e),labelValuesHashMap:(0,be.jC)()(e),selectLabelColorHashMap:t=>(0,be.bi)(t)(e),selectLabelValuesByName:t=>(0,be.Vi)(t)(e)}}),Be)(Ge),Ye="FEATURE_ANALYSIS_LIST_LOADING";var $e=a(81673),qe=a(69322);const Ke=["UMAP","PCA","TSNE"],Qe=e=>{let{modelData:t,selectLabelColorHashMap:a,selectLabelValuesByName:l,loadFeatureAnalysisList:s,loadFeatureAnalysisData:o,generateFeatureAnalysis:c}=e;const d=Xe(),{projectUUID:u}=(0,Ne.useParams)(),[m,p]=(0,i.useState)([]),[x,h]=(0,i.useState)(""),[y,f]=(0,i.useState)({}),[A,j]=(0,i.useState)(Ke[0]),[g,b]=(0,i.useState)(-1),[v,N]=(0,i.useState)(!1),[w,_]=(0,i.useState)({}),[E,S]=(0,i.useState)({}),[C,D]=(0,i.useState)(""),T=(0,i.useRef)(null),I=e=>{b(e)},F=async e=>{let{target:a}=e;if(C&&D(""),null!==a&&void 0!==a&&a.value){_({}),N(!0),j(a.value);let e="";if(E[a.value])e=E[a.value];else try{e=await(async e=>{const{uuid:a,analysis_type:l}=await c(u,t.feature_file_uuid,{analysis_type:e});return S((e=>{const t={...e};return t[l]=a,t})),a})(a.value)}catch(l){D(l.message)}if(e){const t=await o(u,e);_(t)}N(!1)}},M=(0,i.useCallback)((()=>[0,1].map((e=>"".concat(A,"_").concat(e)))),[w]);(0,i.useEffect)((()=>{var e,l;me().isEmpty(t)||((async()=>{N(!0);const e=await s(u,t.feature_file_uuid);if(me().isEmpty(e))await F({target:{value:A}});else{const t=e.reduce(((e,t)=>(e[t.analysis_type]=t.uuid,e)));let a="";if(t[A])a=t[A];else{const t=me().last(e);a=t.uuid,j(t.analysis_type)}const l=await o(u,a);_(l),S(t)}N(!1)})(),h((null===t||void 0===t||null===(e=t.query_summary)||void 0===e?void 0:e.label_column)||"Label"),f(a((null===t||void 0===t||null===(l=t.query_summary)||void 0===l?void 0:l.label_column)||"Label")),p(me().values(t.class_map).map((e=>({name:e,value:e})))))}),[t]);const P=(0,i.useMemo)((()=>{var e;return x?l((null===t||void 0===t||null===(e=t.query_summary)||void 0===e?void 0:e.label_column)||"Label"):[]}),[x,t]);return(0,R.jsxs)(n.A,{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridAutoRows:"max-content",gap:2,children:[(0,R.jsx)(r.A,{className:d.featureItemPaper,elevation:0,children:(0,R.jsxs)(n.A,{ref:T,children:[(0,R.jsx)(we.A,{direction:"column",p:2,children:(0,R.jsx)(we.A,{direction:"row",spacing:1,children:(0,R.jsxs)(X.A,{size:"small",fullWidth:!0,helperText:C,error:Boolean(C),children:[(0,R.jsx)(_e.A,{id:"analysisTypeLabelId",children:"Analysis Type"}),(0,R.jsx)(G.A,{labelId:"analysisTypeLabelId",id:"analysisTypeId",label:"Analysis Type",name:"analysisTypeId",value:A,onChange:F,disabled:v,displayEmpty:!0,children:Ke.map((e=>(0,R.jsx)(B.A,{value:e,children:(0,R.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[e," ",v&&A===e?(0,R.jsx)(qe.A,{style:{marginLeft:"0.25rem"},size:"small",color:"primary"}):null]})},"analysis_type".concat(e))))}),(0,R.jsx)($e.A,{children:C})]})})}),(0,R.jsx)(Re,{featureData:w,featureNames:M(),colorHashMap:y,labelColumn:x,featureX:"".concat(A,"_0"),featureY:"".concat(A,"_1"),parentRef:T,selectedSegmentIndex:g,title:"<b>Feature Analysis</b>",isFetching:v,fetchingText:"Generating Embeddings ...",onSelectPoint:I,selectedClasses:m.map((e=>e.value)),isAutoRangeXaxis:!0},"key-feature-embeding")]})}),(0,R.jsx)(r.A,{className:d.featureItemPaper,elevation:0,children:(0,R.jsx)(Le,{featureData:w,labelColumn:x,labelValues:P,colorHashMap:y,selectedSegmentIndex:g,onSelectSegmemtIndex:I})})]})},Ze={loadFeatureAnalysisList:(e,t)=>async a=>{try{a({type:Ye});const{data:l}=await Ae.Ay.get("/project/".concat(e,"/featurefile-analysis/").concat(t,"/"));return l}catch(l){je.A.logError("","".concat(_.A.getResponseErrorDetails(l)," \n--projectUUID:").concat(e,"\n--featureFileUUID:").concat(t),l,"loadFeatureVectorData"),(0,Ae.M3)(l,"Failed to loadFeatureAlalisies modelUUID: ".concat(t))}return[]},loadFeatureAnalysisData:(e,t)=>async a=>{try{a({type:Ye});const{data:l}=await Ae.Ay.get("/project/".concat(e,"/featurefile/").concat(t,"/json/"));return l}catch(l){je.A.logError("","".concat(_.A.getResponseErrorDetails(l)," \n--projectUUID:").concat(e,"\n--featureFileUUID:").concat(t),l,"loadFeatureVectorData"),(0,Ae.M3)(l,"Failed to loadFeatureAlalisies featureFileUUID: ".concat(t))}return{}},generateFeatureAnalysis:(e,t,a)=>async l=>{try{l({type:Ye});const{data:s}=await Ae.Ay.post("/project/".concat(e,"/featurefile-analysis/").concat(t,"/"),a,{headers:{...Ae.Ay.headers},"X-HTTP-Method-Override":"POST"});return s}catch(s){je.A.logError("","".concat(_.A.getResponseErrorDetails(s)," \n--projectUUID:").concat(e,"\n--modelUUID:").concat(t),s,"loadFeatureVectorData"),(0,Ae.M3)(s,"Failed to generateFeatureAnalysis modelUUID: ".concat(t))}return[]}},Je=(0,l.Ng)((e=>{var t;return{modelData:null===(t=e.models.modelData)||void 0===t?void 0:t.data,segments:ve(e),labelColorHashMap:(0,be.bi)("Label")(e),selectLabelColorHashMap:t=>(0,be.bi)(t)(e),selectLabelValuesByName:t=>(0,be.Vi)(t)(e)}}),Ze)(Qe);var et=a(60137);const tt=e=>{let{model:t,showTitle:a}=e;const[l,s]=(0,i.useState)({data:null,isFetching:t.isFetching}),[r,o]=(0,i.useState)({data:null,isFetching:t.isFetching}),[c,d]=(0,i.useState)({data:null,isFetching:t.isFetching});return(0,i.useEffect)((()=>{var e,a,l,i,n,r,c,u,m,p,x,h,y,f;t.isFetching||(s({data:null===t||void 0===t||null===(e=t.data)||void 0===e||null===(a=e.model_results)||void 0===a||null===(l=a.metrics)||void 0===l||null===(i=l.validation)||void 0===i?void 0:i.ConfusionMatrix,isFetching:!1}),o({data:null===t||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.model_results)||void 0===r||null===(c=r.metrics)||void 0===c||null===(u=c.train)||void 0===u?void 0:u.ConfusionMatrix,isFetching:!1}),null!==t&&void 0!==t&&null!==(m=t.data)&&void 0!==m&&null!==(p=m.model_results)&&void 0!==p&&null!==(x=p.metrics)&&void 0!==x&&x.AllConfusionMatrix&&d({data:null===t||void 0===t||null===(h=t.data)||void 0===h||null===(y=h.model_results)||void 0===y||null===(f=y.metrics)||void 0===f?void 0:f.AllConfusionMatrix,isFetching:!1}))}),[t]),(0,R.jsxs)(n.A,{children:[(0,R.jsxs)(n.A,{sx:{flexWrap:"wrap",display:"flex"},children:[me().isNil(l&&l.data)?(0,R.jsx)(R.Fragment,{}):(0,R.jsx)(et.A,{model:l,showTitle:!0,modelName:"Validation"}),me().isNil(r&&r.data)?(0,R.jsx)(R.Fragment,{}):(0,R.jsx)(et.A,{model:r,showTitle:!0,modelName:"Training"})]}),null!==c.data?Object.entries(c.data).map(((e,t)=>{let[a,l]=e;return(0,R.jsxs)(n.A,{sx:{flexWrap:"wrap",display:"flex"},children:[(0,R.jsx)(et.A,{model:{data:l.validation,isFetching:!1},showTitle:!0,modelName:a,fileName:"validation"}),(0,R.jsx)(et.A,{model:{data:l.train,isFetching:!1},showTitle:!0,modelName:a,fileName:"train"})]},a)})):null]})};var at=a(62582),lt=a(97111),st=a(81131);function it(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}const nt=e=>{let{model:t}=e;const a=Xe(),{projectUUID:l,modelUUID:s}=(0,Ne.useParams)(),[d,u]=(0,i.useState)(!1),[m,p]=(0,i.useState)(t),[x,h]=i.useState(0);return(0,i.useEffect)((()=>{p(t),t&&u(t.isFetching)}),[t]),(0,i.useEffect)((()=>{window.scrollTo(0,0)}),[]),(0,R.jsxs)(n.A,{className:a.box,children:[(0,R.jsx)(n.A,{mb:2,children:(0,R.jsx)(fe.A,{modelData:(null===m||void 0===m?void 0:m.data)||{}})}),(0,R.jsx)(r.A,{elevation:0,children:(0,R.jsxs)(o.A,{value:x,onChange:(e,t)=>{h(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",children:[(0,R.jsx)(c.A,{label:"Confusion Matrix",component:at.N_,to:{pathname:(0,Ne.generatePath)(lt.bw.MAIN.MODEL_EXPLORE.child.CONFUSION_MATRIX.path,{projectUUID:l,modelUUID:s})},...it(0)}),(0,R.jsx)(c.A,{label:"Feature Visualization",component:at.N_,to:{pathname:(0,Ne.generatePath)(lt.bw.MAIN.MODEL_EXPLORE.child.FEATURE_VISUALIZATION.path,{projectUUID:l,modelUUID:s})},...it(1)}),(0,R.jsx)(c.A,{label:"Feature Embedding",component:at.N_,to:{pathname:(0,Ne.generatePath)(lt.bw.MAIN.MODEL_EXPLORE.child.FEATURE_EMBEDDING.path,{projectUUID:l,modelUUID:s})},...it(1)}),(0,R.jsx)(c.A,{label:"Feature Summary",component:at.N_,to:{pathname:(0,Ne.generatePath)(lt.bw.MAIN.MODEL_EXPLORE.child.FEATURE_SUMMARY.path,{projectUUID:l,modelUUID:s})},...it(1)}),(0,R.jsx)(c.A,{label:"Model Summary",component:at.N_,to:{pathname:(0,Ne.generatePath)(lt.bw.MAIN.MODEL_EXPLORE.child.MODEL_SUMMARY.path,{projectUUID:l,modelUUID:s})},...it(1)}),(0,R.jsx)(c.A,{label:"Pipeline Summary",component:at.N_,to:{pathname:(0,Ne.generatePath)(lt.bw.MAIN.MODEL_EXPLORE.child.PIPELINE_SUMMARY.path,{projectUUID:l,modelUUID:s})},...it(1)}),(0,R.jsx)(c.A,{label:"Knowledge Pack Summary",component:at.N_,to:{pathname:(0,Ne.generatePath)(lt.bw.MAIN.MODEL_EXPLORE.child.KNOWLEDGE_PACK_SUMMARY.path,{projectUUID:l,modelUUID:s})},...it(1)})]})}),(0,R.jsxs)(Ne.Switch,{children:[(0,R.jsx)(Ne.Route,{path:lt.bw.MAIN.MODEL_EXPLORE.child.CONFUSION_MATRIX.path,children:(0,R.jsx)(he.A,{value:x,index:0,children:(0,R.jsx)(tt,{model:m})})}),(0,R.jsx)(Ne.Route,{path:lt.bw.MAIN.MODEL_EXPLORE.child.FEATURE_VISUALIZATION.path,children:(0,R.jsx)(He,{})}),(0,R.jsx)(Ne.Route,{path:lt.bw.MAIN.MODEL_EXPLORE.child.FEATURE_EMBEDDING.path,children:(0,R.jsx)(Je,{})}),(0,R.jsx)(Ne.Route,{path:lt.bw.MAIN.MODEL_EXPLORE.child.FEATURE_SUMMARY.path,children:(0,R.jsx)(he.A,{value:x,index:3,children:3===x?(0,R.jsx)(oe,{model:m}):null})}),(0,R.jsx)(Ne.Route,{path:lt.bw.MAIN.MODEL_EXPLORE.child.MODEL_SUMMARY.path,children:(0,R.jsx)(he.A,{value:x,index:4,children:(0,R.jsx)(xe,{model:m})})}),(0,R.jsx)(Ne.Route,{path:lt.bw.MAIN.MODEL_EXPLORE.child.PIPELINE_SUMMARY.path,children:(0,R.jsx)(he.A,{value:x,index:5,children:m.data.pipeline_summary?(0,R.jsx)(ie,{pipelineSteps:m.data.pipeline_summary}):(0,R.jsx)(n.A,{p:1,className:a.box,children:(0,R.jsx)(ye.A,{text:"You may not have built the model yet. There is no Pipeline Summary to display."})})})}),(0,R.jsx)(Ne.Route,{path:lt.bw.MAIN.MODEL_EXPLORE.child.KNOWLEDGE_PACK_SUMMARY.path,children:(0,R.jsx)(he.A,{value:x,index:6,children:m.data.knowledgepack_summary?(0,R.jsx)(ie,{pipelineSteps:m.data.knowledgepack_summary.recognition_pipeline}):(0,R.jsx)(n.A,{m:"auto",p:1,className:a.box,children:(0,R.jsx)(ye.A,{text:"You may not have built the model yet. There is no Knowledge Pack Summary to display."})})})}),(0,R.jsx)(Ne.Route,{children:s?(0,R.jsx)(Ne.Redirect,{from:lt.bw.MAIN.MODEL_EXPLORE.path,to:{pathname:(0,Ne.generatePath)(lt.bw.MAIN.MODEL_EXPLORE.child.CONFUSION_MATRIX.path,{projectUUID:l,modelUUID:s})}}):null})]}),(0,R.jsx)(st.HE,{isOpen:d})]})},rt={loadModel:s.cm},ot=(0,l.Ng)((e=>({selectedProject:e.projects.selectedProject.uuid,selectedPipeline:e.pipelines.selectedPipeline,selectedProjectName:e.projects.selectedProject.name,classifierRun:e.classifiers.classifierRun,classifierCache:e.classifiers.classifierCache,selectedModel:e.models.selectedModel,model:e.models.modelData})),rt)(nt)}}]);
//# sourceMappingURL=293.37628d99.chunk.js.map